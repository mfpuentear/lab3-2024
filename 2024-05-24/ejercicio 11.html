<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Ejercicio 11</title>
  </head>
  <body>
    <h1>Listado de personas</h1>
    <button id="mostrar">Mostrar personas</button>
    <ul id="listado" />
  </body>
  <script>
    const listado = $("listado");
    const mostrar = $("mostrar");

    mostrar.addEventListener("click", async () => {
      const res = await fetch("https://jsonplaceholder.typicode.com/users");
      if (res.ok) {
        console.log("llegaron los datos!");

        const personas = await res.json();
        personas.forEach((persona) => {
          const item = document.createElement("li");
          item.textContent = `${persona.id} - ${persona.name} - ${persona.email}`;
          listado.appendChild(item);
        });
      } else {
        console.error("Error: no llegaron los datos");
      }
    });

    function $(elemento) {
      return document.getElementById(elemento);
    }
  </script>
</html>
